# 如何去获取数据

背景：在vue的一个新闻列表组件中，需要先去获取新闻数据，然后再显示出来。这里新闻数据的来源有两种：
1.本地真实的数据。这一般是历史数据。
2.网络数据。你可能需要通过ajax请求去获取到。
3.mock数据。通过mock设置假的，虚拟数据。

## 获取数据的时机
在组件的created函数中去获取。

## 数据的来源
1. 公网环境，开放接口.
如果数据的来源的接口是开放的，可以直接访问的（如，知呼的api接口），则通过axios的get方法直接获取即可。
2. 公网环境，处理跨域.
这里就需要在本地配置一个服务器，vue组件中请求数据时，发到本地服务器，然后再由本地服务器去包装一些参数，去请求目标服务器，以达到欺骗它的目的。
3. 本地虚拟。
一般在前后端分离的开发环境中，这种情况比较常见。后端的伙伴要加工大量的数据，他们的数据没有及时准备好，但前端又需要先去测试，这时就需要在本地建立服务器去生成数据，然后在前端发请求时把数据回传给前端。
这种情况下，又有两种选择：
（1）在vue的项目环境中建立请求的劫持。vue一般会使用express服务器。你需要webpack.dev.config这个配置文件中进行相关的设置。
（2）额外重新建立一个express的服务器。在vue测试时，使用的地址及端口号一般是：localhost:8080，如果我们额外通过node建立一个express服务器，需要设置一个不一样的端口，如8081。这样就会带来一个额外的问题：从localhost:8080发到localhost:8081就会涉及跨域问题。这个问题在node中是容易解决的。


还有使用mock。这个太厉害了。
## mock 用来生产虚拟数据

1. mock.mock()生成数据直接返回。
2. mock.mock()劫持url，返回数据。



