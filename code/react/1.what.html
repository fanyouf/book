<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
    <!-- <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script> -->


    <script src="https://fb.me/react-15.2.0.js"></script>
    <script src="https://fb.me/react-dom-15.2.0.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>


  <script type="text/babel">
    let comments = {
      title: 'amazying',
      content: '地震来了',
      author: {
        name: '小凡',
        sex: 'm'
      }
    }
    function Author(props) {
        return <div>
        <h3>{props.name}</h3>
        <span>{props.sex == 'men' ? '男' :'女'}</span>
        </div>
    }
    function Content(props){
      return <div>
        <h2>{props.title}</h2>
        <p>{props.content}</p>
      </div>
    }
    // Item(props){
    //   // console.dir(props)
    //   return <div>
    //     <Author name={props.author.name} sex={props.author.sex} />,
    //     <Content title={props.title} content={props.content} />
    //     <Clock/>
    //   </div>
    // }
      var Item = React.createClass({
      // console.dir(props)
      render(){
        return (<div>
          <Author name={this.props.author.name} sex={this.props.author.sex} />,
          <Content title={this.props.title} content={this.props.content} />
          <Clock/>
        </div>)
      }

    })

    var ItemList = React.createClass({
      getInitialState(){
        return {
            list: [{
              title: 'amazying',
              content: '地震来了',
              author: {
                name: '小凡',
                sex: 'm'
              }
            },{
              title: 'amazying1',
              content: '地震来了1',
              author: {
                name: '小凡1',
                sex: 'm1'
              }
            }]
        }
      },
      render () {
        return (<div>
          {
            this.state.list.map(item => {
              console.log(item)
              return <Item author={item.author} title={item.title} content={item.content} />
            })
          }
          </div>)
      }
    })

    var  Clock = React.createClass({
      // constructor(props){
      //   super(props)
      //   this.state = {date: new Date()}
      // },
      getInitialState(){
        return {
            date: new Date()
        }
      },
      componentDidMount(){
        this.timerID = setInterval(
          () => this.tick(),
          1000
        )
      },
      tick(){
        this.setState({
          date: new Date()
        })
      },
      render () {
        return <div>
          {this.state.date.toLocaleTimeString()}
        </div>
      }
    })


    ReactDOM.render(
      <ItemList />,
      document.getElementById('root')
    );


    //setInterval(tick,1000)

  </script>

    <!--
      Note: this page is a great way to try React but it's not suitable for production.
      It slowly compiles JSX with Babel in the browser and uses a large development build of React.

      To set up a production-ready React build environment, follow these instructions:
      * https://reactjs.org/docs/add-react-to-a-new-app.html
      * https://reactjs.org/docs/add-react-to-an-existing-app.html

      You can also use React without JSX, in which case you can remove Babel:
      * https://reactjs.org/docs/react-without-jsx.html
      * https://reactjs.org/docs/cdn-links.html
    -->
</body>
</html>
